<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Power Efficiency</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="d3_script.js"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      nav {
        margin-bottom: 20px;
      }
      nav button {
        margin-right: 10px;
        padding: 5px 10px;
      }
      #content {
        border: 1px solid #ccc;
        padding: 20px;
        min-height: 200px;
      }
    </style>
  </head>
  <body>
    <header>
      <img
        class="logo"
        onclick="loadPage('home'); event.preventDefault();"
        src="PowerIcon.png"
      />
      <nav>
        <button id="home-link" onclick="loadPage('home')" class="nav-link">
          Home
        </button>
        <button id="tv-link" onclick="loadPage('televisions')" class="nav-link">
          Televisions
        </button>
        <button id="about-link" onclick="loadPage('about-us')" class="nav-link">
          About Us
        </button>
      </nav>
    </header>
    <main id="content"></main>

    <script>
      function loadPage(page) {
        const content = document.getElementById("content");
        const links = document.querySelectorAll(".nav-link");

        if (page === "home") {
          content.innerHTML = `<div id="contents"><h1>Welcome to Power Efficiency</h1> <p>This website provides insights into energy consumption of appliances in the Australian market. Stay tuned for detailed analysis!</p></div>`;
        } else if (page === "televisions") {
          content.innerHTML = `
          <h1>Televisions</h1>
          <p>Explore energy ratings for TVs in Australia. Larger screens (e.g., 75-inch) can consume up to 751 kWh/year, while smaller ones (e.g., 16-inch) use around 76 kWh/year.</p>
          <div id="chart-container" class="responsive-svg-container">
            <svg><svg>
          </div>
        `;
        } else if (page === "about-us") {
          content.innerHTML = `<h1>About Us</h1><p>We are dedicated to promoting energy efficiency for appliances across Australia. Learn more about our mission!</p>`;
        }
        //remove active class
        links.forEach((link) => {
          link.classList.remove("active");
          link.style.backgroundColor = ""; //
          console.log("Reset active and color for:", link.id); // Debug
        });
        let activeLink;
        if (page === "home") {
          activeLink = document.getElementById("home-link");
        } else if (page === "televisions") {
          activeLink = document.getElementById("tv-link");
        } else if (page === "about-us") {
          activeLink = document.getElementById("about-link");
        }

        if (activeLink) {
          activeLink.classList.add("active");
          console.log("Added active to:", activeLink.id);
        } else {
          console.error("Error: Active link not found for page:", page);
        }
        applyD3Styles(page);
      }

      // Load home mặc định
      loadPage("");
    </script>
  </body>
</html>
